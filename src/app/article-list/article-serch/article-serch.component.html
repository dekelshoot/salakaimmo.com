<div id="head" class="head  col-md-8 order-md-1 col-lg-7 text-center text-md-start">
    <a (click)="onBack()"><i class="bi bi-arrow-left-square-fill"></i> </a>
    <span>Résultat de la recherche</span> 
</div>

<div>
    <div class="filter  col-md-8 order-md-1 col-lg-7 text-center text-md-start">
        <br>
        <h1 class="mb-3">Trouver un logement dans la ville de yaoundé!</h1>
        <form class="form" [formGroup]="searchForm" (ngSubmit)="onSearchArticle()">
            <!-- <div class="form-floating select">
                <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="transaction">
                  <option *ngFor="let typeTransaction of typeTransaction">{{typeTransaction}}</option>
                </select>
                <label for="floatingSelect">Transaction</label>
            </div> -->
            
            <div class="form-floating select" (change)="Chambre()">
                <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="type">
                  <option *ngFor="let typeBien of typeBien">{{typeBien}}</option>
                </select>
                <label for="floatingSelect">Type de bien</label>
              </div>

              <div class="form-floating select"  *ngIf="!viewChambre">
                <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="chambre">
                  <option *ngFor="let chambre of chambre">{{chambre}}</option>
                </select>
                <label for="floatingSelect">Chambre</label>
              </div>

              <div class="form-floating select">
                <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="lieu">
                  <option *ngFor="let lieu of lieu">{{lieu}}</option>
                </select>
                <label for="floatingSelect">Lieu</label>
              </div>

              <div class="form-floating select">
                <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="prix">
                  <option  *ngFor="let prix of prix">{{prix}}</option>
                </select>
                <label for="floatingSelect">Prix</label>
              </div>

              

              <button class="btn" [disabled]="searchForm.invalid " 
                      type="submit">Trouvez</button>
            </form>


           
    </div>

    <div class="wrapper"*ngIf="articleSearch.length!=0">
        <div class="recent">
            <p>Toutes( {{articleSearch.length}} )</p>
        </div>

        <div class="cards_wrap">
      
            <div class="card_item"  *ngFor = "let article of articleSearch " 
            (click)="onViewProperty(article.id)">
                <button class="card_inner btn">
                <div class="card_top">
                    <img class=" rounded img-thumbnail" [src]="article.photo[0]" alt="car" />
                </div>
                <div class="card_bottom">
                    <div class="card_date d-flex justify-content-evenly">
                        <i class="bi bi-images">{{article.photo.length}}</i>
                        <span>  {{article.datePublication | date : 'd MMM y'}} à {{article.datePublication | date : 'h:mm'}}</span>
                    </div>
                    <div class="card_info">
                        <p class="title">{{article.titre}}</p>
                        <p class="category">{{article.categorie}}</p>
                        <p class="location">{{article.lieu}}</p>
                    </div>
                </div>
                <div class="card_prix">
                   {{article.prix}} Fcfa
                </div>
                </button>
            </div>
            
     
        </div>
      </div>
        
    <br>
    
    
    <div class="error" *ngIf="articleSearch.length==0">
        <i class="bi bi-emoji-frown-fill"></i>
        <p class="error-detail">Oups... Pas de résultats!!!</p>
        <div class="error-recomentation">
            <p class="error-recomentation-detail color-danger">
                Désolé, Nous n'avons pas encore d'annonces correspondant à votre recherche.
            </p>
    
            <p class="error-recomentation-proposition">Vous pouvez ajuster votre recherche en modifiant le budget ou le quartier.</p>
        </div>
    
    
        <br><br><br><br>
    </div>
</div>

